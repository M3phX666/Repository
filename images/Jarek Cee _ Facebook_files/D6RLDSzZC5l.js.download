;/*FB_PKG_DELIM*/

__d("amaSessionData_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"amaSessionData_story"};e.exports=a}),null);
__d("reformCometComposerMediaAttachmentFromStoryAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerMediaAttachmentFromStoryAttachment_attachment"};e.exports=a}),null);
__d("reformCometComposerMediaAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerMediaAttachment_story"};e.exports=a}),null);
__d("reformVideoProductTags_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformVideoProductTags_data"};e.exports=a}),null);
__d("transformStoryAttachmentToCometComposerEditorStateAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"transformStoryAttachmentToCometComposerEditorStateAttachment_attachment"};e.exports=a}),null);
__d("reformCometComposerAnimatedImageFromStoryAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerAnimatedImageFromStoryAttachment_attachment"};e.exports=a}),null);
__d("reformCometComposerAnimatedImage_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerAnimatedImage_story"};e.exports=a}),null);
__d("reformCometComposerMessage_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerMessage_story"};e.exports=a}),null);
__d("reformCometComposerRichtextMessage_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerRichtextMessage_story"};e.exports=a}),null);
__d("reformCometComposerRichtext_block.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerRichtext_block"};e.exports=a}),null);
__d("reformCometComposerFormattedText_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerFormattedText_story"};e.exports=a}),null);
__d("reformTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformTextWithEntities_textWithEntities"};e.exports=a}),null);
__d("reformCometComposerMultilingualPost_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerMultilingualPost_story"};e.exports=a}),null);
__d("reformCometComposerActivityMinutiae_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerActivityMinutiae_story"};e.exports=a}),null);
__d("reformCometComposerFBCollectibleAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerFBCollectibleAttachment_story"};e.exports=a}),null);
__d("reformCometComposerAMAAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerAMAAttachment_story"};e.exports=a}),null);
__d("reformCometComposerLinkAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerLinkAttachment_story"};e.exports=a}),null);
__d("reformCometComposerStoryAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerStoryAttachment_story"};e.exports=a}),null);
__d("reformCometComposerLocationAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerLocationAttachment_story"};e.exports=a}),null);
__d("reformCometComposerLocationMinutiae_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerLocationMinutiae_story"};e.exports=a}),null);
__d("reformCometComposerWithSponsorTag_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerWithSponsorTag_story"};e.exports=a}),null);
__d("useReformCometComposerEditorState_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReformCometComposerEditorState_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("reformCometComposerWithTag_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerWithTag_story"};e.exports=a}),null);
__d("reformCometComposerFunFacts_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerFunFacts_story"};e.exports=a}),null);
__d("reformCometComposerSocialLearningPost_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerSocialLearningPost_story"};e.exports=a}),null);
__d("reformCometComposerKnowledgeNoteAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerKnowledgeNoteAttachment_story"};e.exports=a}),null);
__d("KnowledgeNoteUtils_audiences.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"KnowledgeNoteUtils_audiences"};e.exports=a}),null);
__d("amaSessionData",["CometRelay","amaSessionData_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("amaSessionData_story.graphql"),a);a=a==null?void 0:(a=a.attachments)==null?void 0:a[0];if(a==null)return null;a=a==null?void 0:a.style_infos;a=a==null?void 0:a.find(function(a){return a.__typename==="SwipableAttachmentStyleInfo"});if(a==null||a.__typename!=="SwipableAttachmentStyleInfo")return null;a=a==null?void 0:(a=a.swipable_attachments)==null?void 0:a.nodes;a=a==null?void 0:a.find(function(a){return a.__typename==="AskMeAnythingSession"});return a==null||a.__typename!=="AskMeAnythingSession"?null:{sessionID:a.id,sessionState:a.ama_session_state,text:(c=a.message)==null?void 0:c.text,textPresetID:(c=a.swipable_text_format_metadata)==null?void 0:c.preset_id}}g["default"]=a}),98);
__d("processTaggedIDs",["addTagsToWithTagsIDsTracker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=new Map(b),e=[];a==null?void 0:a.forEach(function(a){var b=[],f=a.data.id;if(f!=null){a=Array.isArray(a.data.tags)?a.data.tags:[];a.forEach(function(a){var c;if(a!=null&&(a==null?void 0:a.taggee)!=null&&typeof (a==null?void 0:(c=a.taggee)==null?void 0:c.id)==="string"){c=a.taggee.id;a.taggee.taggee_type==="PRODUCT_ITEM"?e.push(c):b.push(c)}});d=c("addTagsToWithTagsIDsTracker")(f,b,d)}});return{taggedProductIDs:e,withTagIDsTracker:d}}g["default"]=a}),98);
__d("reformTextWithEntities",["CometRelay","reformTextWithEntities_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformTextWithEntities_textWithEntities.graphql"),a);if(a==null)return null;else{var c=a.text;a=(a=a==null?void 0:a.ranges)!=null?a:[];var e=[];for(var f=0;f<a.length;f++){var g=a[f];g!=null&&g.offset!=null&&g.length!=null&&g.entity!=null&&g.entity.__typename!=null&&g.entity.__typename!=="%other"&&g.entity.id!=null&&e.push({entity:{id:g.entity.id},length:g.length,offset:g.offset})}return{ranges:e,text:(g=c)!=null?g:""}}}g["default"]=a}),98);
__d("reformVideoProductTags",["CometRelay","recoverableViolation","reformVideoProductTags_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformVideoProductTags_data.graphql"),a);if(a==null)return null;a=a.video_product_tags;return a?a.map(function(a){var b=null;if(a==null?void 0:a.product_item){var d;a.time_ranges!=null&&a.time_ranges.length>0&&(b=a.time_ranges.map(function(a){return{end:Number(a.upper_bound),start:Number(a.lower_bound)}}));return{id:(d=a==null?void 0:(d=a.product_item)==null?void 0:d.id)!=null?d:"",image_uri:(d=a==null?void 0:(d=a.product_item)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri)!=null?d:"",metadata:{time_ranges:b},name:(b=(d=a.product_item)==null?void 0:d.name)!=null?b:"",product_per_unit_price:(d=(d=a.product_item)==null?void 0:(b=d.per_unit_price)==null?void 0:b.formatted_text)!=null?d:"",product_price:(a=(b=a.product_item)==null?void 0:(d=b.listing_price)==null?void 0:d.formatted_amount)!=null?a:"",taggee_type:"PRODUCT_ITEM"}}else{c("recoverableViolation")("Product tags for comet videos are ill-formed.","comet_composer");return}}).filter(Boolean):[]}g["default"]=a}),98);
__d("transformStoryAttachmentToCometComposerEditorStateAttachment",["CometRelay","recoverableViolation","reformTextWithEntities","reformVideoProductTags","transformStoryAttachmentToCometComposerEditorStateAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g,i,j,k,l,m,n,o,p,q;f=(f=f)!=null?f:{};f=f.reformCaption;f=f===void 0?!0:f;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("transformStoryAttachmentToCometComposerEditorStateAttachment_attachment.graphql"),a);g=(g=a==null?void 0:a.style_list)!=null?g:[];var r=a==null?void 0:(i=a.target)==null?void 0:i.id;i=a==null?void 0:(i=a.target)==null?void 0:(i=i.image)==null?void 0:i.uri;j=c("reformTextWithEntities")(a==null?void 0:(j=a.target)==null?void 0:j.message);k=a==null?void 0:(k=a.target)==null?void 0:(k=k.video_title)==null?void 0:k.text;l=a==null?void 0:(l=a.target)==null?void 0:l.playable_url;m=a==null?void 0:(m=a.target)==null?void 0:m.free_form_tags;n=(n=a==null?void 0:(n=a.target)==null?void 0:n.content_tags)!=null?n:[];o=(o=a==null?void 0:(o=a.target)==null?void 0:o.video_collaborator)!=null?o:a==null?void 0:(o=a.target)==null?void 0:o.video_collaborator_invitee;p=a==null?void 0:(p=a.target)==null?void 0:p.accessibility_caption;m=m?m.map(function(a){if(a!=null)return{id:a,label:a};else{c("recoverableViolation")("Content tags for comet videos are ill-formed.","comet_composer");return}}).filter(Boolean):[];n=n?n.map(function(a){if(a.id!=null&&a.label!=null)return{id:a.id,label:a.label};else{c("recoverableViolation")("Content tags for comet videos are ill-formed.","comet_composer");return}}).filter(Boolean):[];o=o&&o.id!=null?[{id:o.id,isCollaboratorTag:!0,label:(q=o.name)!=null?q:"",photo:(q=o.profile_picture)==null?void 0:q.uri}]:[];n=(m=m==null?void 0:(q=m.concat(n))==null?void 0:q.concat(o))!=null?m:null;if(r==null||i==null)return null;var s=[];m=(m=a==null?void 0:(q=a.target)==null?void 0:(o=q.tags)==null?void 0:o.edges)!=null?m:a==null?void 0:(q=a.target)==null?void 0:(o=q.video_tags)==null?void 0:o.edges;m!=null&&m.forEach(function(a){var b;if(((b=a.tag)==null?void 0:b.is_product_tag)===!1){s.push({taggee:{id:(b=(b=a.node)==null?void 0:b.id)!=null?b:"",name:(b=a.node)==null?void 0:b.name},x:typeof ((b=a.tag)==null?void 0:(b=b.location)==null?void 0:b.x)==="number"?((b=a.tag)==null?void 0:(b=b.location)==null?void 0:b.x)*100:0,y:typeof ((b=a.tag)==null?void 0:(b=b.location)==null?void 0:b.y)==="number"?((b=a.tag)==null?void 0:(a=b.location)==null?void 0:a.y)*100:0})}});q=e.map(function(a){if(a.photo_id===r){var b;return{taggee:{id:(b=a.product_id)!=null?b:"",image_uri:(b=a.image_uri)!=null?b:"",name:(b=a.product_name)!=null?b:"",product_price:(b=a.product_price)!=null?b:"",taggee_type:"PRODUCT_ITEM"},x:(b=a.x)!=null?b:0,y:(b=a.y)!=null?b:0}}}).concat(s).filter(Boolean);o=g.includes("photo")?"PHOTO":g.includes("video")?"VIDEO":"UNKNOWN";switch(o){case"PHOTO":m={custom_accessibility_caption:p,id:r,tags:q};f===!0&&(m=babelHelpers["extends"]({},m,{message:j}));return{data:m,entID:r,fileType:"PHOTO",height:(a==null?void 0:(e=a.target)==null?void 0:(g=e.image)==null?void 0:g.height)||void 0,state:"PREEXISTING",url:i,useCDNPreview:!0,width:(a==null?void 0:(o=a.target)==null?void 0:(p=o.image)==null?void 0:p.width)||void 0};case"VIDEO":q={id:r,title:k};f===!0&&(q=babelHelpers["extends"]({},q,{message:j}));m=c("reformVideoProductTags")(a==null?void 0:a.target);return{data:babelHelpers["extends"]({},q,{additional_video_metadata:{videoProductTags:m,videoTags:n}}),entID:r,fileObjectURL:l,fileType:"VIDEO",height:(a==null?void 0:(e=a.target)==null?void 0:e.height)||void 0,imageURL:i,state:"PREEXISTING",useCDNPreview:!0,width:(a==null?void 0:(g=a.target)==null?void 0:g.width)||void 0};default:return{data:{id:r,message:j},fileType:"UNKNOWN",state:"PREEXISTING",url:i}}}g["default"]=a}),98);
__d("reformCometComposerMediaAttachmentFromStoryAttachment",["CometRelay","Promise","gkx","processTaggedIDs","reformCometComposerMediaAttachmentFromStoryAttachment_attachment.graphql","transformStoryAttachmentToCometComposerEditorStateAttachment"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g){var j;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerMediaAttachmentFromStoryAttachment_attachment.graphql"),a);if(a==null)return e;j=(j=a==null?void 0:a.style_list)!=null?j:[];var k=j.includes("photo"),l=j.includes("video");if(k||l){l=c("transformStoryAttachmentToCometComposerEditorStateAttachment")(a,(k=f)!=null?k:[],{reformCaption:!1});k=l!=null?[l]:null;l=c("processTaggedIDs")(k,(l=e.withTagIDsTracker)!=null?l:new Map());var m=l.taggedProductIDs;l=l.withTagIDsTracker;g=c("gkx")("1915661")&&g===!0;return babelHelpers["extends"]({},e,{attachmentArea:{activeAttachmentType:"MEDIA"},isMediaAttachmentsRequired:(e==null?void 0:e.isMediaAttachmentsRequired)||g,mediaAttachments:k,mediaUploadStatuses:k!=null?i(k):void 0,taggedProductIDs:m,withTagIDsTracker:l})}g=j.includes("album");if(!g)return e;l=(m=a==null?void 0:(k=a.all_subattachments)==null?void 0:k.nodes)!=null?m:[];j=l.map(function(a){return c("transformStoryAttachmentToCometComposerEditorStateAttachment")(a,(a=f)!=null?a:[])}).filter(Boolean);a=c("processTaggedIDs")(j,(g=e.withTagIDsTracker)!=null?g:new Map());k=a.taggedProductIDs;m=a.withTagIDsTracker;return babelHelpers["extends"]({},e,{attachmentArea:{activeAttachmentType:"MEDIA"},mediaAttachments:j,mediaUploadStatuses:i(j),taggedProductIDs:k,withTagIDsTracker:m})}function i(a){return a.reduce(function(a,c){var d=c.data.id;if(d!=null&&(c.fileType==="PHOTO"||c.fileType==="VIDEO")){c=b("Promise").resolve({attachmentID:d,attachmentType:c.fileType});var e=null,f=new(b("Promise"))(function(a){e=a});e!=null&&(a[d]={cancelUpload:function(){},onFileComplete:c,onUploadCancel:f,resolveFileUpload:function(){}})}return a},{})}g["default"]=a}),98);
__d("reformCometComposerMediaAttachment",["CometRelay","reformCometComposerMediaAttachmentFromStoryAttachment","reformCometComposerMediaAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerMediaAttachment_story.graphql"),a);var g=a==null?void 0:a.xy_product_tags.map(function(a){return{image_uri:a==null?void 0:a.image_uri,photo_id:a==null?void 0:a.subject,product_id:a==null?void 0:a.product_id,product_name:a==null?void 0:a.name,product_price:a==null?void 0:a.price,tag_id:a==null?void 0:a.fbid,x:a==null?void 0:a.x,y:a==null?void 0:a.y}});f=(a==null?void 0:(f=a.actors[0])==null?void 0:(f=f.human_readable_type)==null?void 0:f.text)==="Page";return c("reformCometComposerMediaAttachmentFromStoryAttachment")(a==null?void 0:(a=a.attachments)==null?void 0:a[0],e,g,f)}g["default"]=a}),98);
__d("reformCometComposerAnimatedImageFromStoryAttachment",["CometRelay","reformCometComposerAnimatedImageFromStoryAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerAnimatedImageFromStoryAttachment_attachment.graphql"),a);e=a==null?void 0:(e=a.media)==null?void 0:e.animated_image;e=e==null?void 0:e.uri;a=(a=a==null?void 0:a.style_list)!=null?a:[];a=a.includes("animated_image_share");return a===!1||e==null?c:babelHelpers["extends"]({},c,{animatedImageAttachments:{imageData:{url:e}},attachmentArea:{activeAttachmentType:"ANIMATED_IMAGE"}})}g["default"]=a}),98);
__d("reformCometComposerAnimatedImage",["CometRelay","reformCometComposerAnimatedImageFromStoryAttachment","reformCometComposerAnimatedImage_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerAnimatedImage_story.graphql"),a);return c("reformCometComposerAnimatedImageFromStoryAttachment")(a==null?void 0:(a=a.attachments)==null?void 0:a[0],e)}g["default"]=a}),98);
__d("FbBlockType2DraftJs",[],(function(a,b,c,d,e,f){"use strict";var g=new Map([["UNSTYLED","unstyled"],["PARAGRAPH","paragraph"],["HEADER_ONE","header-one"],["HEADER_TWO","header-two"],["HEADER_THREE","header-three"],["HEADER_FOUR","header-four"],["HEADER_FIVE","header-five"],["HEADER_SIX","header-six"],["UNORDERED_LIST_ITEM","unordered-list-item"],["ORDERED_LIST_ITEM","ordered-list-item"],["BLOCKQUOTE","blockquote"],["CODE","code-block"],["ATOMIC","atomic"],["THEMATIC_BREAK","thematic-break"],["PULLQUOTE","pull-quote"],["TABLE","table"],["INLINE","inline"]]);function a(a){a=g.get((a=a)!=null?a:"UNSTYLED");return(a=a)!=null?a:"unstyled"}f["default"]=a}),66);
__d("DraftTreeAdapter",["invariant","generateRandomKey"],(function(a,b,c,d,e,f,g){var h=function(a,b){a=[].concat(a).reverse();while(a.length){var c=a.pop();b(c);c=c.children;Array.isArray(c)||g(0,2517);a=a.concat([].concat(c.reverse()))}},i=function(a){if(!(a&&a.type))return!1;a=a.type;return a==="unordered-list-item"||a==="ordered-list-item"},j=function(a){Array.isArray(a.children)&&(a.children=a.children.map(function(b){return b.type===a.type?babelHelpers["extends"]({},b,{depth:(a.depth||0)+1}):b}))};a={fromRawTreeStateToRawState:function(a){var b=a.blocks,c=[];Array.isArray(b)||g(0,2518);if(!Array.isArray(b)||!b.length)return a;h(b,function(a){var b=babelHelpers["extends"]({},a);if(i(a)){b.depth=b.depth||0;j(a);if(a.children!=null&&a.children.length>0)return}delete b.children;c.push(b)});a.blocks=c;return babelHelpers["extends"]({},a,{blocks:c})},fromRawStateToRawTreeState:function(a){var c=[],d=[];a.blocks.forEach(function(a){var e=i(a),f=a.depth||0,g=babelHelpers["extends"]({},a,{children:[]});if(!e){c.push(g);return}e=d[0];if(e==null&&f===0)c.push(g);else if(e==null||e.depth<f-1){a={key:b("generateRandomKey")(),text:"",depth:f-1,type:a.type,children:[],entityRanges:[],inlineStyleRanges:[]};d.unshift(a);f===1?c.push(a):e!=null&&e.children.push(a);a.children.push(g)}else if(e.depth===f-1)e.children.push(g);else{while(e!=null&&e.depth>=f)d.shift(),e=d[0];f>0?e.children.push(g):c.push(g)}});return babelHelpers["extends"]({},a,{blocks:c})}};e.exports=a}),null);
__d("DraftTreeInvariants",["warning"],(function(a,b,c,d,e,f){var g={isValidBlock:function(a,c){var d=a.getKey(),e=a.getParentKey();if(e!=null){e=c.get(e);if(!e.getChildKeys().includes(d)){b("warning")(!0,"Tree is missing parent -> child pointer on %s",d);return!1}}e=a.getChildKeys().map(function(a){return c.get(a)});if(!e.every(function(a){return a.getParentKey()===d})){b("warning")(!0,"Tree is missing child -> parent pointer on %s",d);return!1}e=a.getPrevSiblingKey();if(e!=null){var f=c.get(e);if(f.getNextSiblingKey()!==d){b("warning")(!0,"Tree is missing nextSibling pointer on %s's prevSibling",d);return!1}}f=a.getNextSiblingKey();if(f!=null){var g=c.get(f);if(g.getPrevSiblingKey()!==d){b("warning")(!0,"Tree is missing prevSibling pointer on %s's nextSibling",d);return!1}}if(f!==null&&e!==null&&e===f){b("warning")(!0,"Tree has a two-node cycle at %s",d);return!1}if(a.text!=""&&a.getChildKeys().size>0){b("warning")(!0,"Leaf node %s has children",d);return!1}return!0},isConnectedTree:function(a){var c=a.toArray().filter(function(a){return a.getParentKey()==null&&a.getPrevSiblingKey()==null});if(c.length!==1){b("warning")(!0,"Tree is not connected. More or less than one first node");return!1}c=c.shift();var d=0;c=c.getKey();var e=[];while(c!=null){var f=a.get(c),g=f.getChildKeys(),h=f.getNextSiblingKey();if(g.size>0){h!=null&&e.unshift(h);h=g.map(function(b){return a.get(b)});g=h.find(function(a){return a.getPrevSiblingKey()==null});if(g==null){b("warning")(!0,"%s has no first child",c);return!1}c=g.getKey()}else f.getNextSiblingKey()!=null?c=f.getNextSiblingKey():c=e.shift();d++}if(d!==a.size){b("warning")(!0,"Tree is not connected. %s nodes were seen instead of %s",d,a.size);return!1}return!0},isValidTree:function(a){var b=a.toArray();return!b.every(function(b){return g.isValidBlock(b,a)})?!1:g.isConnectedTree(a)}};e.exports=g}),null);
__d("createCharacterList",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;function a(a,c){a=a.map(function(a,d){d=c[d];return b("CharacterMetadata").create({style:a,entity:d})});return g(a)}e.exports=a}),null);
__d("decodeEntityRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||b("UnicodeUtils")).substr;function a(a,b){var c=Array(a.length).fill(null);b&&b.forEach(function(b){var d=h(a,0,b.offset).length,e=d+h(a,b.offset,b.length).length;for(d=d;d<e;d++)c[d]=b.key});return c}e.exports=a}),null);
__d("decodeInlineStyleRanges",["UnicodeUtils","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").OrderedSet;var h=(g||(g=b("UnicodeUtils"))).substr,i=c();function a(a,b){var c=Array(a.length).fill(i);b&&b.forEach(function(b){var d=h(a,0,b.offset).length,e=d+h(a,b.offset,b.length).length;while(d<e)c[d]=c[d].add(b.style),d++});return c}e.exports=a}),null);
__d("convertFromRawToDraftState",["invariant","ContentBlock","ContentBlockNode","ContentState","DraftTreeAdapter","DraftTreeInvariants","SelectionState","createCharacterList","decodeEntityRanges","decodeInlineStyleRanges","generateRandomKey","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("gkx")("676842"),i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedMap,l=function(a,c){var d=a.key,e=a.type,f=a.data,g=a.text,h=a.depth;g={text:g,depth:h||0,type:e||"unstyled",key:d||b("generateRandomKey")(),data:j(f),characterList:m(a,c)};return g},m=function(a,c){var d=a.text,e=a.entityRanges;a=a.inlineStyleRanges;e=e||[];a=a||[];return b("createCharacterList")(b("decodeInlineStyleRanges")(d,a),b("decodeEntityRanges")(d,e.filter(function(a){return Object.prototype.hasOwnProperty.call(c,a.key)}).map(function(a){return babelHelpers["extends"]({},a,{key:c[a.key]})})))},n=function(a){return babelHelpers["extends"]({},a,{key:a.key||b("generateRandomKey")()})},o=function(a,b,c){b=b.map(function(a){return babelHelpers["extends"]({},a,{parentRef:c})});return a.concat(b.reverse())},p=function(a,c){return a.map(n).reduce(function(d,e,f){Array.isArray(e.children)||g(0,5197);var h=e.children.map(n);e=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(e,c),{prevSibling:f===0?null:a[f-1].key,nextSibling:f===a.length-1?null:a[f+1].key,children:i(h.map(function(a){return a.key}))}));d=d.set(e.getKey(),e);f=o([],h,e);while(f.length>0){h=f.pop();e=h.parentRef;var j=e.getChildKeys(),k=j.indexOf(h.key),m=Array.isArray(h.children);if(!m){m||g(0,5197);break}m=h.children.map(n);h=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(h,c),{parent:e.getKey(),children:i(m.map(function(a){return a.key})),prevSibling:k===0?null:j.get(k-1),nextSibling:k===j.size-1?null:j.get(k+1)}));d=d.set(h.getKey(),h);f=o(f,m,h)}return d},k())},q=function(a,c){return k(a.map(function(a){a=new(b("ContentBlock"))(l(a,c));return[a.getKey(),a]}))},r=function(a,c){var d=a.blocks.find(function(a){return Array.isArray(a.children)&&a.children.length>0}),e=h&&!d?b("DraftTreeAdapter").fromRawStateToRawTreeState(a).blocks:a.blocks;if(!h)return q(d?b("DraftTreeAdapter").fromRawTreeStateToRawState(a).blocks:e,c);d=p(e,c);return d},s=function(a,b){var c=b.entityMap,d={},e=a;Object.keys(c).forEach(function(a){var b=c[a],f=b.type,g=b.mutability;b=b.data;e=e.createEntity(f,g,b||{});d[a]=e.getLastCreatedEntityKey()});return{entityKeyMap:d,contentState:e}};a=function(a){Array.isArray(a.blocks)||g(0,5199);var c=s(b("ContentState").createFromText(""),a),d=c.contentState;c=c.entityKeyMap;a=r(a,c);c=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new(b("ContentState"))({blockMap:a,entityMap:d.getEntityMap(),selectionBefore:c,selectionAfter:c})};e.exports=a}),null);
__d("createCometComposerEditorStateFromComposedTextBlockWithEntities",["EditorState","FbBlockType2DraftJs","convertFromRawToDraftState","generateRandomKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[];for(var e=0;e<a.length;e++){var f=a[e],g=f.block_type,h=f.data,i=f.depth,j=f.entity_ranges,k=f.inline_style_ranges;f=f.text;d.push({data:h,depth:i,entityRanges:j,inlineStyleRanges:k,key:c("generateRandomKey")(),text:f,type:c("FbBlockType2DraftJs")(g)})}h={blocks:d,entityMap:b};i=c("convertFromRawToDraftState")(h);return{__type:"editor-state-based",draftEditorState:c("EditorState").createWithContent(i)}}g["default"]=a}),98);
__d("reformCometComposerMessage",["CometRelay","cr:838","reformCometComposerMessage_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerMessage_story.graphql"),a);a=a==null?void 0:a.message;return a==null||c.formattingType!=null&&c.formattingType!=="MARKDOWN"?c:b("cr:838")(a,c)}g["default"]=a}),98);
__d("reformCometComposerRichtext",["CometRelay","createCometComposerEditorStateFromComposedTextBlockWithEntities","filterNulls","reformCometComposerRichtext_block.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=a.map(function(a){return d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerRichtext_block.graphql"),a)});var f=[],g={};for(var k=0;k<a.length;k++){var l=a[k],m=l.block_type,n=l.data,o=l.depth,p=l.entity_ranges,q=l.inline_style_ranges;l=l.text;m!=null&&n!=null&&o!=null&&l!=null&&q!=null&&p!=null&&f.push({block_type:m,data:JSON.parse(n),depth:o,entity_ranges:j(p,g),inline_style_ranges:i(q),text:l})}m=c("createCometComposerEditorStateFromComposedTextBlockWithEntities")(f,g);return babelHelpers["extends"]({},e,{editorState:m,formattingType:"RICHTEXT"})}function i(a){return c("filterNulls")(a.map(function(a){var b=a.inline_style,c=a.length;a=a.offset;return c==null||a==null||b==null?null:{length:c,offset:a,style:b}}))}function j(a,b){return c("filterNulls")(a.map(function(a){var c=a.entity,d=a.length,e=a.offset;if(d==null||e==null||c==null||c.__typename!=="User"&&c.__typename!=="Page"&&c.__typename!=="Event"&&c.__typename!=="Group"&&c.__typename!=="ExternalUrl"&&c.__typename!=="Photo"&&c.__typename!=="XFBProdQuartzVizirSnapshot")return null;var f=c.id;if(f==null)return null;b[f]={data:{entityKey:c,id:f,type:c.__typename,url:c.__typename==="ExternalUrl"?c.external_url:null},mutability:c.__typename==="ExternalUrl"?"MUTABLE":"SEGMENTED",type:(c=a.entity_type)!=null?c:"MENTIONS"};return{key:f,length:d,offset:e}}))}g["default"]=a}),98);
__d("reformCometComposerRichtextMessage",["CometRelay","reformCometComposerRichtext","reformCometComposerRichtextMessage_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerRichtextMessage_story.graphql"),a);a=a==null?void 0:a.message_richtext;return a==null||a.length===0||e.formattingType!=null?e:c("reformCometComposerRichtext")(a,e)}g["default"]=a}),98);
__d("reformCometComposerFormattedText",["CometRelay","reformCometComposerFormattedText_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerFormattedText_story.graphql"),a);e=a==null?void 0:(e=a.text_format_metadata)==null?void 0:e.preset_id;return e==null||c.formattingType!=null?c:babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:"FORMATTED_TEXT"},formattedText:{currentFormattedTextPreset:a==null?void 0:a.text_format_metadata},formattingType:"SATP"})}g["default"]=a}),98);
__d("composerMultilingualReducer",["cr:3461","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){switch(c.type){case"multilingual_init":return babelHelpers["extends"]({},a,{multilingualData:{mainDialect:c.dialect,mainDialectViewState:{editorState:a.editorState,formattingType:a.formattingType,lexicalEditor:a.lexicalEditor},otherDialects:{}}});case"multilingual_change_main_dialect":var d=h(a,c.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{mainDialect:c.dialect})});case"multilingual_add_dialect":d=h(a,c.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{otherDialects:babelHelpers["extends"]({},(d=d.otherDialects)!=null?d:[],(d={},d[c.dialect]={isTranslating:!1,viewState:{editorState:a.editorState,formattingType:a.formattingType}},d))})});case"multilingual_remove_dialect":d=h(a,c.type);var e=babelHelpers["extends"]({},d.otherDialects);delete e[c.dialect];return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{otherDialects:e})});case"multilingual_autotranslation_request_started":d=h(a,c.type);e=i(d,c.dialect,c.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{otherDialects:babelHelpers["extends"]({},d.otherDialects,(d={},d[c.dialect]=babelHelpers["extends"]({},e,{isTranslating:!0}),d))})});case"multilingual_autotranslation_response_received":e=h(a,c.type);d=i(e,c.dialect,c.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},e,{otherDialects:babelHelpers["extends"]({},e.otherDialects,(e={},e[c.dialect]=babelHelpers["extends"]({},d,{isTranslating:!1,viewState:babelHelpers["extends"]({},c.viewState,{formattingType:"RICHTEXT"})}),e))})});case"multilingual_autotranslation_error":d=h(a,c.type);e=i(d,c.dialect,c.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{otherDialects:babelHelpers["extends"]({},d.otherDialects,(d={},d[c.dialect]=babelHelpers["extends"]({},e,{isTranslating:!1}),d))})});case"multilingual_edit_other_dialect":e=c.dialect;d=c.type;var f=c.viewState;d=h(a,d);var g=d.otherDialects[e];if(g==null)return a;var k=g.viewState;return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{otherDialects:babelHelpers["extends"]({},d.otherDialects,(d={},d[e]=babelHelpers["extends"]({},g,{viewState:babelHelpers["extends"]({},k,f)}),d))})});case"multilingual_edit_main_dialect":e=c.type;g=c.viewState;k=h(a,e);f=k.mainDialectViewState;return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},k,{mainDialectViewState:babelHelpers["extends"]({},f,g)})});case"multilingual_sync_root_view_state_to_main_dialect_view_state":d=h(a,c.type);k=(e=a.lexicalEditor)==null?void 0:e.getEditorState();if(k!=null){(f=a.multilingualData)==null?void 0:(g=f.mainDialectViewState.lexicalEditor)==null?void 0:g.setEditorState(k)}return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{mainDialectViewState:{editorState:a.editorState,formattingType:a.formattingType,lexicalEditor:a.lexicalEditor}})});case"multilingual_sync_main_dialect_view_state_to_root_view_state":e=j(a,c.type);g=(f=e.lexicalEditor)==null?void 0:f.getEditorState();if(g!=null){(k=a.lexicalEditor)==null?void 0:k.setEditorState(g)}c=(d=b("cr:3461")==null?void 0:b("cr:3461")(a))!=null?d:a;return babelHelpers["extends"]({},c,e.editorState!=null?{editorState:e.editorState}:null,{lexicalEditor:a.lexicalEditor});default:return a}}function h(a,b){a=a.multilingualData;if(a==null)throw c("unrecoverableViolation")("Expected non-null multilingual composer data for action: '"+b+"'","comet_composer");return a}function i(a,b,d){a=a.otherDialects[b];if(a==null)throw c("unrecoverableViolation")("Expected non-null multilingual composer dialect data for dialect '"+b+"', action: '"+d+"'","comet_composer");return a}function j(a,b){a=(a=a.multilingualData)==null?void 0:a.mainDialectViewState;if(a==null)throw c("unrecoverableViolation")("Expected non-null main dialect view state, action: "+b,"comet_composer");return a}g["default"]=a}),98);
__d("reformCometComposerMultilingualPost",["CometRelay","composerMultilingualReducer","cr:3462","reformCometComposerMultilingualPost_story.graphql","reformCometComposerRichtext","reformCometComposerTextWithEntities"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerMultilingualPost_story.graphql"),a);a=a.author_translations;a=a.filter(function(a){return a.dialect!=null});if(a.length<1)return e;var g=(f=a[0].dialect)==null?void 0:f.name;if(g==null)return e;var i=c("composerMultilingualReducer")(e,{dialect:g,type:"multilingual_init"});a.forEach(function(a){var d;d=(d=a.dialect)==null?void 0:d.name;if(d==null)return;if(a.message==null)return;var f;a.rich_message==null||a.rich_message.length===0?f=c("reformCometComposerTextWithEntities")(a.message,{}):f=c("reformCometComposerRichtext")(a.rich_message,e);if(d===g)i=c("composerMultilingualReducer")(i,{type:"multilingual_edit_main_dialect",viewState:f});else{if(b("cr:3462")!=null){a=((a=f.editorState)==null?void 0:a.__type)==="editor-state-based"?b("cr:3462")(f.editorState.draftEditorState.getCurrentContent()):null;f=a!=null?babelHelpers["extends"]({},f,{initialRawContentState:a}):f}i=c("composerMultilingualReducer")(i,{dialect:d,type:"multilingual_add_dialect"});i=c("composerMultilingualReducer")(i,{dialect:d,type:"multilingual_edit_other_dialect",viewState:f})}});i=c("composerMultilingualReducer")(i,{type:"multilingual_sync_main_dialect_view_state_to_root_view_state"});return i}g["default"]=a}),98);
__d("reformCometComposerActivityMinutiae",["CometRelay","reformCometComposerActivityMinutiae_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e,f,g,i,j,k,l;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerActivityMinutiae_story.graphql"),a);a=a==null?void 0:(a=a.inline_activities)==null?void 0:(a=a.nodes)==null?void 0:a[0];e=a==null?void 0:(e=a.object)==null?void 0:e.id;f=a==null?void 0:(f=a.taggable_activity)==null?void 0:f.id;g=a==null?void 0:(g=a.taggable_activity)==null?void 0:g.legacy_api_id;i=a==null?void 0:(i=a.object)==null?void 0:i.name;j=a==null?void 0:(j=a.taggable_activity_icon)==null?void 0:(j=j.image)==null?void 0:j.uri;k=a==null?void 0:(k=a.object)==null?void 0:(k=k.profile_picture)==null?void 0:k.uri;l=a==null?void 0:(l=a.object)==null?void 0:l.verification_status;a=a==null?void 0:(a=a.object)==null?void 0:a.mentions_subtext;return e==null||f==null||g==null?c:babelHelpers["extends"]({},c,{activityMinutiae:{activityID:f,activityLegacyID:g,activityProfileImage:k,activitySubtext:a,activityVerificationBadge:l,iconURI:j,objectID:e,objectName:i}})}g["default"]=a}),98);
__d("reformCometComposerFBCollectibleAttachment",["CometRelay","reformCometComposerFBCollectibleAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerFBCollectibleAttachment_story.graphql"),a);a=a==null?void 0:a.attachments;if(a.length===0)return c;a=a[0];var e=a==null?void 0:a.style_infos,f=null;if(e==null)return c;for(var e=e,g=Array.isArray(e),i=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=e.length)break;j=e[i++]}else{i=e.next();if(i.done)break;j=i.value}j=j;if((j==null?void 0:j.__typename)==="FBCollectibleAttachmentStyleInfo"){j=j==null?void 0:(j=j.fb_collectible_attachment)==null?void 0:(j=j.babi_nfts)==null?void 0:j.nodes;if(j&&j.length>0){f=j[0];break}}}if(f==null)return c;i=(j=f.babi_nft_media)==null?void 0:j.nodes;g=i&&i.length>0&&i[0].babi_media_type?i[0].babi_media_type:"UNKNOWN";return babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:"FB_COLLECTIBLE"},fbCollectible:{existing_media_snapshot_id:a==null?void 0:(e=a.media)==null?void 0:e.video_id,id:(j=f.id)!=null?j:"",isPlayable:(c=a==null?void 0:(i=a.media)==null?void 0:i.is_playable)!=null?c:!1,mediaType:g,name:f.babi_name,thumbnailUrl:(i=a==null?void 0:(e=a.media)==null?void 0:(j=e.image)==null?void 0:j.downloadable_uri)!=null?i:"",urn:(c=f.babi_urn)!=null?c:""}})}g["default"]=a}),98);
__d("reformCometComposerAMAAttachment",["CometRelay","amaSessionData","reformCometComposerAMAAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerAMAAttachment_story.graphql"),a);a=c("amaSessionData")(a);return a==null||a.text==null||a.textPresetID==null?e:babelHelpers["extends"]({},e,{amaMetadata:{formattedTextPresetID:a.textPresetID,text:a.text}})}g["default"]=a}),98);
__d("reformCometComposerLinkAttachment",["CometRelay","reformCometComposerLinkAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;e=(e=c.attachmentArea)==null?void 0:e.activeAttachmentType;if(e!=null&&e!=="LINK")return c;e=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerLinkAttachment_story.graphql"),a);e=e==null?void 0:(a=e.attachments)==null?void 0:a[0];if(e==null)return c;a=(a=e==null?void 0:e.style_list)!=null?a:[];a=a.some(function(a){return a==="share"||a==="event"||a==="share_large_image"});var f=e==null?void 0:e.url;if(!a||f==null)return c;e=e==null?void 0:(a=e.throwback)==null?void 0:a.attachment_target_renderer;a=e==null?void 0:(a=e.attachment)==null?void 0:(a=a.target)==null?void 0:a.id;return babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:"LINK"},linkAttachment:{goodwillCampaignInfo:{campaignId:a!=null?"":e==null?void 0:e.id},selectedLinkPreview:f,storyId:a,url:f,urlStack:[f]}})}g["default"]=a}),98);
__d("reformCometComposerStoryAttachment",["CometRelay","reformCometComposerStoryAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerStoryAttachment_story.graphql"),a);e=(e=a.attached_story)==null?void 0:e.url;a=!!a.is_reshare;if(e==null)return c;a=a?"SHARE":"LINK";return babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:a},linkAttachment:{url:e}})}g["default"]=a}),98);
__d("reformCometComposerLocationAttachment",["CometRelay","reformCometComposerLocationAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerLocationAttachment_story.graphql"),a);a=a==null?void 0:(a=a.attachments)==null?void 0:a[0];a=(a=a==null?void 0:a.style_list)!=null?a:[];return!a.includes("map")?c:babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:"LOCATION"},locationMinutiae:babelHelpers["extends"]({},(a=c.locationMinutiae)!=null?a:{},{showAttachment:!0})})}g["default"]=a}),98);
__d("reformCometComposerLocationMinutiae",["CometRelay","reformCometComposerLocationMinutiae_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerLocationMinutiae_story.graphql"),a);e=a==null?void 0:(e=a.explicit_place)==null?void 0:e.entity_id;return e==null?c:babelHelpers["extends"]({},c,{locationMinutiae:babelHelpers["extends"]({},(c=c.locationMinutiae)!=null?c:{},{name:(a=a==null?void 0:(c=a.explicit_place)==null?void 0:c.name)!=null?a:"",placeID:e})})}g["default"]=a}),98);
__d("reformCometComposerWithSponsorTag",["CometRelay","reformCometComposerWithSponsorTag_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerWithSponsorTag_story.graphql"),a);a=a==null?void 0:(a=a.sponsor_tags[0])==null?void 0:a.id;if(a==null)return c;if(c.withTagIDsTracker==null)return babelHelpers["extends"]({},c,{brandedContent:{sponsorID:a}});var e=new Map(c.withTagIDsTracker);e["delete"](a);return babelHelpers["extends"]({},c,{brandedContent:{sponsorID:a},withTagIDsTracker:e})}g["default"]=a}),98);
__d("useReformCometComposerEditorState",["CometRelay","react","useReformCometComposerEditorState_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,c){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useReformCometComposerEditorState_story.graphql"),a);return i(function(){return e==null||a==null?{}:c.reduce(function(b,c){return c(a,b)},{disableOptimisticMediaPost:!0,isEditingPreExistingStory:!0,storyID:e==null?void 0:e.id})},[c,e,a])}g["default"]=a}),98);
__d("reformCometComposerWithTag",["CometRelay","addTagsToWithTagsIDsTracker","reformCometComposerWithTag_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerWithTag_story.graphql"),a);var f=new Map(e.withTagIDsTracker);a=((a=a==null?void 0:(a=a.with_tags)==null?void 0:a.nodes)!=null?a:[]).map(function(a){return a==null?void 0:a.id}).filter(Boolean);a.forEach(function(a){f=c("addTagsToWithTagsIDsTracker")("WithTagTool",[a],f)});return babelHelpers["extends"]({},e,{withTagIDsTracker:f})}g["default"]=a}),98);
__d("reformCometComposerFunFacts",["CometRelay","reformCometComposerAnimatedImageFromStoryAttachment","reformCometComposerFunFacts_story.graphql","reformCometComposerMediaAttachmentFromStoryAttachment"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[c("reformCometComposerAnimatedImageFromStoryAttachment"),c("reformCometComposerMediaAttachmentFromStoryAttachment")];function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerFunFacts_story.graphql"),a);e=a==null?void 0:(e=a.attachments[0])==null?void 0:(e=e.style_infos[0])==null?void 0:(e=e.fun_fact_prompt)==null?void 0:e.id;if(e==null)return c;c=babelHelpers["extends"]({},c,{funFact:{promptID:e},preAttachmentArea:{activePreAttachmentType:"FUN_FACT"}});var f=a==null?void 0:(e=a.attachments[0])==null?void 0:e.subattachments[0];return i.reduce(function(a,b){return b(f,a)},c)}g["default"]=a}),98);
__d("reformCometComposerSocialLearningPost",["CometRelay","reformCometComposerSocialLearningPost_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerSocialLearningPost_story.graphql"),a);e=(e=a.social_learning_info_unit_module)==null?void 0:(e=e.unit)==null?void 0:e.id;a=(a=a.social_learning_info_unit_module)==null?void 0:(a=a.module)==null?void 0:a.name;return e==null||a==null?c:babelHelpers["extends"]({},c,{socialLearningModule:{moduleName:a,unitID:e}})}g["default"]=a}),98);
__d("KnowledgeNoteEventType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({OPEN:"OPEN",ENTER_FROM:"ENTER_FROM",PERMISSION:"PERMISSION",POST:"POST",TOOLBAR:"TOOLBAR",CREATE_NOTE:"CREATE_NOTE",CREATE_TEMPLATE:"CREATE_TEMPLATE",DELETE:"DELETE",DUPLICATE:"DUPLICATE",REPORT:"REPORT",NUX_DIALOG:"NUX_DIALOG",IMPRESSION:"IMPRESSION",PARSE_DOCUMENT:"PARSE_DOCUMENT",SEND_NOTIFICATION:"SEND_NOTIFICATION",CHANGE_SUBSCRIPTION:"CHANGE_SUBSCRIPTION",INLINE_ANNOTATION:"INLINE_ANNOTATION",TOGGLE_LINK_SHARING:"TOGGLE_LINK_SHARING",EXPAND_IMAGE:"EXPAND_IMAGE",COMPONENT_PICKER:"COMPONENT_PICKER",TOGGLE_COMMENTS_LOCATION:"TOGGLE_COMMENT_LOCATION",SHARE_TO_ROOM:"SHARE_TO_ROOM",ARCHIVE_NOTE:"ARCHIVE_NOTE",ARCHIVE_NOTE_CLIENT_ERROR:"ARCHIVE_NOTE_CLIENT_ERROR",AUTO_ARCHIVE_NOTE:"AUTO_ARCHIVE_NOTE",CANCEL_ARCHIVE_NOTE:"CANCEL_ARCHIVE_NOTE",CANCEL_UNARCHIVE_NOTE:"CANCEL_UNARCHIVE_NOTE",CLICK_ON_WHY_IS_THIS_NOTE_ARCHIVED:"CLICK_ON_WHY_IS_THIS_NOTE_ARCHIVED",OPEN_ARCHIVE_MODAL:"OPEN_ARCHIVE_MODAL",OPEN_UNARCHIVE_MODAL:"OPEN_UNARCHIVE_MODAL",UNARCHIVE_NOTE:"UNARCHIVE_NOTE",UNARCHIVE_NOTE_CLIENT_ERROR:"UNARCHIVE_NOTE_CLIENT_ERROR",VIEW_ARCHIVED_NOTE:"VIEW_ARCHIVED_NOTE"});c=a;f["default"]=c}),66);
__d("KnowledgeNotesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743707");c=b("FalcoLoggerInternal").create("knowledge_notes",a);e.exports=c}),null);
__d("KnowledgeNoteLogUtils",["Actor","KnowledgeNotesFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function i(a,b,d,e,f){c("KnowledgeNotesFalcoEvent").log(function(){return{event:a,sub_event:b,user_id:e,note_id:d,target_type:null,target_id:null,extra_data:f}})}function a(a,b,c,d,e){i("INLINE_ANNOTATION",a,b,c,{inline_comment_thread_ent_id:(a=d)!=null?a:"",inline_comment_thread_id:(b=e)!=null?b:""})}function b(a,b,c,d){i("COMPONENT_PICKER",a,b,c,{component_name:(a=d)!=null?a:""})}function e(a,b,c){var e=d("Actor").useActor(),f=e[0];h(function(){i("OPEN",a,b,f,c)},[f,b,a,c])}g.logEvent=i;g.logInlineAnnotationsEvent=a;g.logInlineComponentPickerEvent=b;g.useLogOnOpen=e}),98);
__d("XCometNotesTemplatesPermalinkControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/note_templates/{template_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XNotesPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/{?author}/{?slug}/{note_id}/{?mode}/",{comment_id:{type:"IntOrPFBID"},reply_comment_id:{type:"IntOrPFBID"},comment_tracking:{type:"String"},note_id:{type:"Int",required:!0},author:{type:"String"},slug:{type:"String"},qid:{type:"String"},mf_story_key:{type:"String"},_ft_:{type:"String"},mode:{type:"String"}})}),null);
__d("KnowledgeNoteUtils",["KnowledgeNoteLogUtils","KnowledgeNoteUtils_audiences.graphql","RelayHooks","URI","XCometNotesTemplatesPermalinkControllerRouteBuilder","XNotesPermalinkController","filterNulls","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){var h=c("XNotesPermalinkController").getURIBuilder().setInt("note_id",a);e!==!0&&h.setString("mode","edit");d("KnowledgeNoteLogUtils").logEvent("ENTER_FROM",g,a,b);f!=null?f.go(h.getURI().toString(),{}):c("URI").go(h.getURI())}function e(a,b){a=c("XCometNotesTemplatesPermalinkControllerRouteBuilder").buildURL({template_id:a});b!=null?b.go(a,{}):c("URI").go(a)}function f(a){var e,f,g;a=d("RelayHooks").readInlineData(h!==void 0?h:h=b("KnowledgeNoteUtils_audiences.graphql"),a);e=a.readAudience!=null?{hiddenGroupCount:a==null?void 0:(e=a.readAudience)==null?void 0:e.hiddenGroupCount,userCount:c("nullthrows")((e=a.readAudience)==null?void 0:e.userCount),groups:((e=a.readAudience)==null?void 0:e.audienceGroups)!=null?c("filterNulls")((e=(e=a.readAudience)==null?void 0:(e=e.audienceGroups)==null?void 0:(e=e.edges)==null?void 0:e.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.name;c=(c=a.node)==null?void 0:c.count;a=(a=a.node)==null?void 0:a.id;return b!=null&&c!=null&&a!=null?{members:c,name:b,id:a}:null}))!=null?e:[]):[],users:((e=a.readAudience)==null?void 0:e.userSet)!=null?c("filterNulls")((e=(e=a.readAudience)==null?void 0:(e=e.userSet)==null?void 0:(e=e.scim_users)==null?void 0:(e=e.nodes)==null?void 0:e.map(function(a){var b;b=(b=a.work_user)==null?void 0:b.name;a=(a=a.work_user)==null?void 0:a.id;return b!=null&&a!=null?{name:b,id:a}:null}))!=null?e:[]).concat(c("filterNulls")((e=(e=a.readAudience)==null?void 0:(e=e.audienceGroups)==null?void 0:(e=e.edges)==null?void 0:e.reduce(function(a,b){return a.concat((a=b.node)==null?void 0:(b=a.members)==null?void 0:b.nodes.map(function(a){var b=a.name;a=a.id;return b!=null&&a!=null?{name:b,id:a}:null}))},[]))!=null?e:[])):[]}:null;f=a.editAudience!=null?{callLink:(a==null?void 0:(f=a.editAudience)==null?void 0:f.callLink)==null?null:{name:a==null?void 0:(f=a.editAudience)==null?void 0:(f=f.callLink)==null?void 0:f.name,uri:a==null?void 0:(f=a.editAudience)==null?void 0:(f=f.callLink)==null?void 0:(f=f.roomImage)==null?void 0:f.uri},hiddenGroupCount:a==null?void 0:(f=a.editAudience)==null?void 0:f.hiddenGroupCount,userCount:c("nullthrows")((f=a.editAudience)==null?void 0:f.userCount),groups:((f=a.editAudience)==null?void 0:f.audienceGroups)!=null?c("filterNulls")((f=(f=a.editAudience)==null?void 0:(f=f.audienceGroups)==null?void 0:(f=f.edges)==null?void 0:f.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.name;c=(c=a.node)==null?void 0:c.count;a=(a=a.node)==null?void 0:a.id;return b!=null&&c!=null&&a!=null?{members:c,name:b,id:a}:null}))!=null?f:[]):[],users:((f=a.editAudience)==null?void 0:f.userSet)!=null?c("filterNulls")((f=(f=a.editAudience)==null?void 0:(f=f.userSet)==null?void 0:(f=f.scim_users)==null?void 0:(f=f.nodes)==null?void 0:f.map(function(a){var b,c;b=(b=a.work_user)==null?void 0:b.name;c=(c=a.work_user)==null?void 0:c.id;a=(a=a.work_user)==null?void 0:(a=a.profilePicture)==null?void 0:a.uri;return b!=null&&c!=null&&a!=null?{name:b,id:c,profilePicURI:a}:null}))!=null?f:[]).concat(c("filterNulls")((f=(f=a.editAudience)==null?void 0:(f=f.audienceGroups)==null?void 0:(f=f.edges)==null?void 0:f.reduce(function(a,b){return a.concat((a=b.node)==null?void 0:(b=a.members)==null?void 0:b.nodes.map(function(a){var b=a.name,c=a.id;a=(a=a.profilePicture)==null?void 0:a.uri;return b!=null&&c!=null&&a!=null?{name:b,id:c,profilePicURI:a}:null}))},[]))!=null?f:[])):[]}:null;g=(g=a==null?void 0:a.owner)!=null?g:a.pageOwner;g={name:c("nullthrows")(g==null?void 0:g.name),id:c("nullthrows")(g==null?void 0:g.id),profilePicURI:c("nullthrows")(g==null?void 0:(a=g.profilePicture)==null?void 0:a.uri)};return[g,e,f]}function i(a){return a===null||a.userCount===0&&a.groups.length===0&&a.callLink==null&&((a==null?void 0:a.hiddenGroupCount)==null||(a==null?void 0:a.hiddenGroupCount)===0)}g.navigateToNote=a;g.navigateToTemplate=e;g.getAudiencesFromGraphQL=f;g.isAudienceEmpty=i}),98);
__d("reformCometComposerKnowledgeNoteAttachment",["CometRelay","KnowledgeNoteUtils","reformCometComposerKnowledgeNoteAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerKnowledgeNoteAttachment_story.graphql"),a);a=a==null?void 0:(a=a.attachments)==null?void 0:(a=a[0])==null?void 0:a.target;if(a==null||a.id==null||a.title==null)return c;e=((e=a.coverPhotoMetadata)==null?void 0:e.height)!=null&&((e=a.coverPhotoMetadata)==null?void 0:e.id)!=null&&((e=a.coverPhotoMetadata)==null?void 0:e.src)!=null&&((e=a.coverPhotoMetadata)==null?void 0:e.width)!=null?{height:a.coverPhotoMetadata.height,id:a.coverPhotoMetadata.id,src:a.coverPhotoMetadata.src,width:a.coverPhotoMetadata.width,yOffset:(e=(e=a.coverPhotoMetadata)==null?void 0:e.yOffset)!=null?e:0}:null;var f=d("KnowledgeNoteUtils").getAudiencesFromGraphQL(a),g=f[0];f[1];f=f[2];return babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:"KNOWLEDGE_NOTE"},knowledgeNoteAttachment:{coverPhotoMetadata:e,editAudience:f,noteID:(c=a.id)!=null?c:"",owner:g,title:(e=a.title)!=null?e:"",xml:a.xml}})}g["default"]=a}),98);